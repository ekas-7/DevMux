{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file:///Users/ekaspreetsinghatwal/DevMux/app/api/token/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\nimport { AccessToken } from \"livekit-server-sdk\";\n\nexport async function GET(req: NextRequest) {\n  const room = req.nextUrl.searchParams.get(\"room\");\n  const username = req.nextUrl.searchParams.get(\"username\");\n  if (!room) {\n    return NextResponse.json(\n      { error: 'Missing \"room\" query parameter' },\n      { status: 400 }\n    );\n  } else if (!username) {\n    return NextResponse.json(\n      { error: 'Missing \"username\" query parameter' },\n      { status: 400 }\n    );\n  }\n\n  const apiKey = \"APIaMz2VKrmZgqW\";\n  const apiSecret = \"FwTe3T1huedW2AeV08ODXlu9uD1u9evrQA29ebQ5d1UE\";\n  const wsUrl = \"wss://devmux-l0abrbfe.livekit.cloud\";\n\n  if (!apiKey || !apiSecret || !wsUrl) {\n    return NextResponse.json(\n      { error: \"Server misconfigured\" },\n      { status: 500 }\n    );\n  }\n\n  const at = new AccessToken(apiKey, apiSecret, { identity: username });\n\n  at.addGrant({ room, roomJoin: true, canPublish: true, canSubscribe: true });\n\n  return NextResponse.json({ token: await at.toJwt() });\n}\n"],"names":[],"mappings":";;;AAAA;AACA;AAAA;;;AAEO,eAAe,IAAI,GAAgB;IACxC,MAAM,OAAO,IAAI,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC;IAC1C,MAAM,WAAW,IAAI,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC;IAC9C,IAAI,CAAC,MAAM;QACT,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAiC,GAC1C;YAAE,QAAQ;QAAI;IAElB,OAAO,IAAI,CAAC,UAAU;QACpB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAqC,GAC9C;YAAE,QAAQ;QAAI;IAElB;IAEA,MAAM,SAAS;IACf,MAAM,YAAY;IAClB,MAAM,QAAQ;IAEd,uCAAqC;;IAKrC;IAEA,MAAM,KAAK,IAAI,iKAAA,CAAA,cAAW,CAAC,QAAQ,WAAW;QAAE,UAAU;IAAS;IAEnE,GAAG,QAAQ,CAAC;QAAE;QAAM,UAAU;QAAM,YAAY;QAAM,cAAc;IAAK;IAEzE,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;QAAE,OAAO,MAAM,GAAG,KAAK;IAAG;AACrD"}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}